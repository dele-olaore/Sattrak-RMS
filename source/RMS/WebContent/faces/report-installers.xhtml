<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                template="/WEB-INF/layout/general_layout.xhtml">
<ui:define name="title">Registered Installers Report</ui:define>
<ui:define name="content">
	<div class="pageheader">
		<div class="media">
			<div class="pageicon pull-left">
				<i class="fa fa-bars"></i>
			</div>
			<div class="media-body">
				<ul class="breadcrumb">
					<li><a href="dashboard.xhtml"><i class="glyphicon glyphicon-home"></i></a></li>
					<li>Registered Installers Report</li>
				</ul>
				<h4>Registered Installers Report</h4>
			</div>
		</div><!-- media -->
	</div><!-- pageheader -->
	<div class="contentpanel">
		<!-- CONTENT GOES HERE -->
		<h:form id="form" pt:class="form-horizontal form-bordered">
			Download : <a href="#" onclick="$('#basicTable').tableExport({type:'pdf',escape:'false'});return false;"><img src="#{request.contextPath}/images/icons/pdf.png" width="24px" /> PDF</a>
			<!-- <a href="#" onClick="$('#basicTable').tableExport({type:'doc',escape:'false'});return false;"><img src="#{request.contextPath}/images/icons/word.png" width="24px"/> Word</a> -->
			<a href="#" onClick="$('#basicTable').tableExport({type:'excel',escape:'false'});return false;"> <img src="#{request.contextPath}/images/icons/xls.png" width="24px" /> XLS</a>
			<a href="#" onClick="$('#basicTable').tableExport({type:'csv',escape:'false'});return false;"><img src="#{request.contextPath}/images/icons/csv.png" width="24px" /> CSV</a>
			<!-- <a href="#" onClick="$('#basicTable').tableExport({type:'txt',escape:'false'});return false;"><img src="#{request.contextPath}/images/icons/txt.png" width="24px"/> TXT</a> -->
			<br/>
			<table id="basicTable" class="table table-striped table-bordered responsive">
				<thead class="">
					<tr>
						<th>Company</th>
						<th>First name</th>
						<th>Last name</th>
						<th>Rating</th>
						<th>Country</th>
						<th>State</th>
						<th>LGA</th>
						<th>Created</th>
					</tr>
				</thead>
				<tbody>
					<ui:repeat value="#{appBean.allAgents}" var="itm">
						<tr>
							<td>#{itm.company.companyName}</td>
							<td>#{itm.firstname}</td>
							<td>#{itm.lastname}</td>
							<td>
								<h:outputText value="#{itm.rating.ratingDescription}" rendered="#{itm.rating != null}" />
								<h:outputText value="N/A" rendered="#{itm.rating == null}" />
							</td>
							<td><h:outputText value="#{itm.company.country.name}" rendered="#{itm.company.country != null}" /></td>
							<td><h:outputText value="#{itm.company.state.name}" rendered="#{itm.company.state != null}" /></td>
							<td><h:outputText value="#{itm.company.lga.name}" rendered="#{itm.company.lga != null}" /></td>
							<td>#{itm.crt_dt}</td>
						</tr>
					</ui:repeat>
				</tbody>
			</table>
		</h:form>
	</div><!-- contentpanel -->
</ui:define>
</ui:composition>

	